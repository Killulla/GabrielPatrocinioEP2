import random
import unicodedata
import turtle
import time
import funçoes_forca
palavras=open("entrada.txt","r",encoding="utf-8")
lista=[]
lista2=[]
playing=True
for i in palavras:
    add=i.lower().strip()
    add= unicodedata.normalize('NFKD', add).encode('ASCII','ignore')
    if len(add)< 2:
        None
    else:
        lista.append(add)
sorteio=random.choice(lista)
erro=0
window = turtle.Screen()    # cria uma janela
window.bgcolor("lightblue")
window.title("Jogo da forca")
window.setup(width=1800,height=900,startx=-100,starty=None)
tartaruga2=turtle.Turtle()
tartaruga2.hideturtle()
tartaruga2.penup()
tartaruga2.setpos(600,0)
tartaruga2.rt(180)
tartaruga2.pendown()
riscos=len(sorteio)
tartaruga4=turtle.Turtle()
tartaruga4.hideturtle()
tartaruga4.up()
tartaruga4.setpos(0,420)
tartaruga4.pendown()
tartaruga4.color("Green")
tartaruga4.write("Seja bem-vindo ao Jogo da Forca", font=("Arial",17,"bold"))
tartaruga5=turtle.Turtle()
tartaruga5.hideturtle()
tartaruga5.penup()
tartaruga5.setpos(0,400)
tartaruga5.pendown()
tartaruga5.write("Abaixo estão as letras já faladas", font=("Arial",14,"normal"))
for i in range (riscos):
      tartaruga2.hideturtle()
      tartaruga2.fd(70)
      tartaruga2.penup()
      tartaruga2.fd(15)
      tartaruga2.pendown()
while erro<9 or playing:
    tartaruga3=turtle.Turtle()
    tartaruga3.hideturtle()
    tartaruga3.penup()
    tartaruga3.setpos(-100,370)
    tartaruga3.rt(90)
    tartaruga   = turtle.Turtle()
    tartaruga.hideturtle()
    tartaruga.speed(5)
    tartaruga.penup()
    tartaruga.setpos(-450,200)
    tartaruga.pendown()
    tartaruga.color("orange")
    tartaruga.pensize(4)
    tartaruga.rt(270)
    tartaruga.fd(200)
    tartaruga.rt(90)
    tartaruga.fd(100)
    tartaruga.rt(90)
    tartaruga.fd(25)
    tartaruga.rt(90)
    escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
    while escolha.isalpha()==False:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,220)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
    if escolha =="sair":
        window.exitonclick()
    while len(escolha) > 1:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,300)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, uma letra de cada vez",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
        if escolha.isalpha()==False:
            tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
            time.sleep(3)
            escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
            tartaruga6.clear()            
    for x in lista2:        
      while escolha==x:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,250)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, escolha outra letra que ainda não foi escolhida",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
        if escolha.isalpha()==False:
            tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
            time.sleep(3)
            escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
            tartaruga6.clear()  
    if len(escolha[0]) == len(sorteio):
         None
    else:
        lista2.append(escolha)
        erro=erro + 1
    desenho()
window.exitonclick()
    


