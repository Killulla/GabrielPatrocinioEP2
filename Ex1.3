import random
import unicodedata
import turtle
import time
import funçoes_forca
from biblioteca import biblioteca
lista2=[]
playing=True
biblioteca()
sorteio=random.choice(lista)
erro=0
window = turtle.Screen()    # cria uma janela
window.bgcolor("lightblue")
window.title("Jogo da forca")
window.setup(width=1800,height=900,startx=-100,starty=None)
tartaruga2=turtle.Turtle()
tartaruga2.hideturtle()
tartaruga2.penup()
tartaruga2.setpos(600,0)
tartaruga2.rt(180)
tartaruga2.pendown()
riscos=len(sorteio)
tartaruga4=turtle.Turtle()
tartaruga4.hideturtle()
tartaruga4.up()
tartaruga4.setpos(0,420)
tartaruga4.pendown()
tartaruga4.color("Green")
tartaruga4.write("Seja bem-vindo ao Jogo da Forca", font=("Arial",17,"bold"))
tartaruga5=turtle.Turtle()
tartaruga5.hideturtle()
tartaruga5.penup()
tartaruga5.setpos(0,400)
tartaruga5.pendown()
tartaruga5.write("Abaixo estão as letras já faladas", font=("Arial",14,"normal"))
for i in range (riscos):
      tartaruga2.hideturtle()
      tartaruga2.fd(70)
      tartaruga2.penup()
      tartaruga2.fd(15)
      tartaruga2.pendown()
while erro<9 or playing:
    tartaruga3=turtle.Turtle()
    tartaruga3.hideturtle()
    tartaruga3.penup()
    tartaruga3.setpos(-100,370)
    tartaruga3.rt(90)
    tartaruga   = turtle.Turtle()
    tartaruga.hideturtle()
    tartaruga.speed(5)
    tartaruga.penup()
    tartaruga.setpos(-450,200)
    tartaruga.pendown()
    tartaruga.color("orange")
    tartaruga.pensize(4)
    tartaruga.rt(270)
    tartaruga.fd(200)
    tartaruga.rt(90)
    tartaruga.fd(100)
    tartaruga.rt(90)
    tartaruga.fd(25)
    tartaruga.rt(90)
    escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
    while escolha.isalpha()==False:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,220)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
    if escolha =="sair":
        window.exitonclick()
    while len(escolha) > 1:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,300)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, uma letra de cada vez",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
        if escolha.isalpha()==False:
            tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
            time.sleep(3)
            escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
            tartaruga6.clear()            
    for x in lista2:        
      while escolha==x:
        tartaruga6=turtle.Turtle()
        tartaruga6.hideturtle()
        tartaruga6.penup()
        tartaruga6.setpos(0,250)
        tartaruga6.pendown()
        tartaruga6.color("red")
        tartaruga6.write("Por favor, escolha outra letra que ainda não foi escolhida",font=("Arial",20,"bold"))
        time.sleep(3)
        escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
        tartaruga6.clear()
        if escolha.isalpha()==False:
            tartaruga6.write("Por favor, escolha uma letra do alfabeto",font=("Arial",20,"bold"))
            time.sleep(3)
            escolha = window.textinput("Escolha", "Escolha sabiamente uma letra")
            tartaruga6.clear()  
    if len(escolha[0]) == len(sorteio):
         None
    else:
        lista2.append(escolha)
        erro=erro + 1
    funçoes_forca()
    if erro==3:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.setpos(-350,285)
        tartaruga.pendown()
        tartaruga.fd(30)
        tartaruga.penup()
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==4:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.setpos(-350,285)
        tartaruga.pendown()
        tartaruga.bk(30)
        tartaruga.penup()
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==5:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.setpos(-350,285)
        tartaruga.lt(90)
        tartaruga.pendown()
        tartaruga.fd(30)
        tartaruga.rt(45)
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==6:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.setpos(-350,255)
        tartaruga.pendown()
        tartaruga.fd(30)
        tartaruga.rt(180)
        tartaruga.fd(30)
        tartaruga.rt(90)
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==7:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.setpos(-350,255)
        tartaruga.lt(180)
        tartaruga.pendown()
        tartaruga.fd(30)
        tartaruga.rt(180)
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==8:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.color("red")
        tartaruga.setpos(-350,315)
        tartaruga.pendown()
        tartaruga.rt(180)
        tartaruga.fd(30)
        tartaruga3.clear()
        tartaruga3.write(lista2,font=("Arial",14,"normal"))
    if erro==9:
        tartaruga.hideturtle()
        tartaruga.penup()
        tartaruga.color("red")
        tartaruga.setpos(-350,315)
        tartaruga.pendown()
        tartaruga.fd(30)
        tartaruga3.clear()
        tartaruga3.penup()
        tartaruga3.setpos(-30,200)
        tartaruga3.write("Você foi enforcado",font=("Arial",20,"bold"))
        time.sleep(2)
        tartaruga3.clear()
        play_again = window.textinput("Replay", "Você quer jogar novamente? Sim ou não...")
        if play_again.lower()!="sim":
            playing==False
        else:
            erro=0
            lista2=[]
            tartaruga.clear()
            tartaruga3.clear()
            sorteio=random.choice(lista)
window.exitonclick()
    


